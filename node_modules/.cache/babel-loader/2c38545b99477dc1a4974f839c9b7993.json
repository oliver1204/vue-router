{"remainingRequest":"/Users/olifer/Documents/goooooooo/vue-router/node_modules/babel-loader/lib/index.js!/Users/olifer/Documents/goooooooo/vue-router/src/vue-router/install.js","dependencies":[{"path":"/Users/olifer/Documents/goooooooo/vue-router/src/vue-router/install.js","mtime":1613488489859},{"path":"/Users/olifer/Documents/goooooooo/vue-router/node_modules/cache-loader/dist/cjs.js","mtime":1612936944194},{"path":"/Users/olifer/Documents/goooooooo/vue-router/node_modules/babel-loader/lib/index.js","mtime":1612936944192}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZpZXcgZnJvbSAnLi9jb21wb25lbnRzL3ZpZXcnOwppbXBvcnQgTGluayBmcm9tICcuL2NvbXBvbmVudHMvbGluayc7Cgp2YXIgX1Z1ZTsKCnZhciBpbnN0YWxsID0gZnVuY3Rpb24gaW5zdGFsbChWdWUpIHsKICBpZiAoaW5zdGFsbC5pbnN0YWxsZWQgJiYgX1Z1ZSA9PT0gVnVlKSByZXR1cm47CiAgaW5zdGFsbC5pbnN0YWxsZWQgPSB0cnVlOwogIF9WdWUgPSBWdWU7IC8vIOm7mOiupOW4jOacm+WwhuatpHJvdXRlcuaUvuWIsOS7u+S9lee7hOS7tuS4igoKICBWdWUubWl4aW4oewogICAgYmVmb3JlQ3JlYXRlOiBmdW5jdGlvbiBiZWZvcmVDcmVhdGUoKSB7CiAgICAgIC8vIOWIpOaWreaYr+S4jeaYr+agueWunuS+iwogICAgICBpZiAodGhpcy4kb3B0aW9ucy5yb3V0ZXIpIHsKICAgICAgICB0aGlzLl9yb3V0ZXJSb290ID0gdGhpczsKICAgICAgICB0aGlzLl9yb3V0ZXIgPSB0aGlzLiRvcHRpb25zLnJvdXRlcjsgLy8g6Lev55Sx55qE5Yid5aeL5YyWCgogICAgICAgIHRoaXMuX3JvdXRlci5pbml0KHRoaXMpOyAvLyDlsIZjdXJyZW505bGe5oCn5a6a5LmJ5oiQ5ZON5bqU5byP55qEIOi/meagt+eojeWQjuabtOaWsGN1cnJlbnTlsLHlj6/ku6Xmm7TmlrDop4blm74KICAgICAgICAvLyDov5nkuKrlr7nosaHkuIrnmoTmlrnms5XkuI3lu7rorq7nlKjmiLfnm7TmjqXkvb/nlKgg6L+Z5Liq5a+56LGh5piv5Y+v5Lul5pS55Y+Y55qECiAgICAgICAgLy8gdnVlLm9ic2VydmFibGUgMi42CiAgICAgICAgLy8g57uZ5b2T5YmN5a+56LGh5aKe5Yqg5LiA5LiqX3JvdXRl5bGe5oCn77yM5LuW5Y+W6Ieq5b2T5YmNaGlzdG9yeeeahGN1cnJlbnTlsZ7mgKcKCgogICAgICAgIFZ1ZS51dGlsLmRlZmluZVJlYWN0aXZlKHRoaXMsICdfcm91dGUnLCB0aGlzLl9yb3V0ZXIuaGlzdG9yeS5jdXJyZW50KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLl9yb3V0ZXJSb290ID0gdGhpcy4kcGFyZW50ICYmIHRoaXMuJHBhcmVudC5fcm91dGVyUm9vdDsKICAgICAgfQogICAgfQogIH0pOwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUucHJvdG90eXBlLCAnJHJvdXRlcicsIHsKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fcm91dGVyUm9vdC5fcm91dGVyOwogICAgfQogIH0pOwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUucHJvdG90eXBlLCAnJHJvdXRlJywgewogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9yb3V0ZXJSb290Ll9yb3V0ZTsKICAgIH0KICB9KTsgLy8g5YWo5bGA5oyH5LukCgogIFZ1ZS5jb21wb25lbnQoJ1JvdXRlclZpZXcnLCBWaWV3KTsKICBWdWUuY29tcG9uZW50KCdSb3V0ZXJMaW5rJywgTGluayk7Cn07CgpleHBvcnQgZGVmYXVsdCBpbnN0YWxsOw=="},{"version":3,"sources":["/Users/olifer/Documents/goooooooo/vue-router/src/vue-router/install.js"],"names":["View","Link","_Vue","install","Vue","installed","mixin","beforeCreate","$options","router","_routerRoot","_router","init","util","defineReactive","history","current","$parent","Object","defineProperty","prototype","get","_route","component"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,mBAAjB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;;AAEA,IAAIC,IAAJ;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,GAAD,EAAS;AACvB,MAAID,OAAO,CAACE,SAAR,IAAqBH,IAAI,KAAKE,GAAlC,EAAuC;AACvCD,EAAAA,OAAO,CAACE,SAAR,GAAoB,IAApB;AAEAH,EAAAA,IAAI,GAAGE,GAAP,CAJuB,CAMvB;;AACAA,EAAAA,GAAG,CAACE,KAAJ,CAAU;AACRC,IAAAA,YADQ,0BACO;AACb;AACA,UAAI,KAAKC,QAAL,CAAcC,MAAlB,EAA0B;AACxB,aAAKC,WAAL,GAAmB,IAAnB;AACA,aAAKC,OAAL,GAAe,KAAKH,QAAL,CAAcC,MAA7B,CAFwB,CAIxB;;AACA,aAAKE,OAAL,CAAaC,IAAb,CAAkB,IAAlB,EALwB,CAMxB;AACA;AAEA;AACA;;;AACAR,QAAAA,GAAG,CAACS,IAAJ,CAASC,cAAT,CAAwB,IAAxB,EAA8B,QAA9B,EAAwC,KAAKH,OAAL,CAAaI,OAAb,CAAqBC,OAA7D;AACD,OAZD,MAYO;AACL,aAAKN,WAAL,GAAmB,KAAKO,OAAL,IAAgB,KAAKA,OAAL,CAAaP,WAAhD;AACD;AACF;AAlBO,GAAV;AAqBAQ,EAAAA,MAAM,CAACC,cAAP,CAAsBf,GAAG,CAACgB,SAA1B,EAAqC,SAArC,EAAgD;AAC9CC,IAAAA,GAD8C,iBACxC;AACJ,aAAO,KAAKX,WAAL,CAAiBC,OAAxB;AACD;AAH6C,GAAhD;AAMAO,EAAAA,MAAM,CAACC,cAAP,CAAsBf,GAAG,CAACgB,SAA1B,EAAqC,QAArC,EAA+C;AAC7CC,IAAAA,GAD6C,iBACvC;AACJ,aAAO,KAAKX,WAAL,CAAiBY,MAAxB;AACD;AAH4C,GAA/C,EAlCuB,CAwCvB;;AACAlB,EAAAA,GAAG,CAACmB,SAAJ,CAAc,YAAd,EAA4BvB,IAA5B;AACAI,EAAAA,GAAG,CAACmB,SAAJ,CAAc,YAAd,EAA4BtB,IAA5B;AACD,CA3CD;;AA6CA,eAAeE,OAAf","sourcesContent":["import View from './components/view';\nimport Link from './components/link';\n\nlet _Vue;\n\nconst install = (Vue) => {\n  if (install.installed && _Vue === Vue) return;\n  install.installed = true;\n\n  _Vue = Vue;\n\n  // 默认希望将此router放到任何组件上\n  Vue.mixin({\n    beforeCreate() {\n      // 判断是不是根实例\n      if (this.$options.router) {\n        this._routerRoot = this;\n        this._router = this.$options.router;\n\n        // 路由的初始化\n        this._router.init(this);\n        // 将current属性定义成响应式的 这样稍后更新current就可以更新视图\n        // 这个对象上的方法不建议用户直接使用 这个对象是可以改变的\n\n        // vue.observable 2.6\n        // 给当前对象增加一个_route属性，他取自当前history的current属性\n        Vue.util.defineReactive(this, '_route', this._router.history.current);\n      } else {\n        this._routerRoot = this.$parent && this.$parent._routerRoot;\n      }\n    },\n  });\n\n  Object.defineProperty(Vue.prototype, '$router', {\n    get() {\n      return this._routerRoot._router;\n    },\n  });\n\n  Object.defineProperty(Vue.prototype, '$route', {\n    get() {\n      return this._routerRoot._route;\n    },\n  });\n\n  // 全局指令\n  Vue.component('RouterView', View);\n  Vue.component('RouterLink', Link);\n};\n\nexport default install;\n"]}]}