{"remainingRequest":"/Users/olifer/Documents/goooooooo/vue-router/node_modules/babel-loader/lib/index.js!/Users/olifer/Documents/goooooooo/vue-router/src/vue-router/create-route-map.js","dependencies":[{"path":"/Users/olifer/Documents/goooooooo/vue-router/src/vue-router/create-route-map.js","mtime":1613467994947},{"path":"/Users/olifer/Documents/goooooooo/vue-router/node_modules/cache-loader/dist/cjs.js","mtime":1612936944194},{"path":"/Users/olifer/Documents/goooooooo/vue-router/node_modules/babel-loader/lib/index.js","mtime":1612936944192}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKCi8qKgogKiByb3V0ZXMg5qC85byP5YyWCiAqIEBwYXJhbSB7Kn0gcm91dGVzCiAqIEBwYXJhbSB7Kn0gb2xkUGF0aExpc3Qg5aSE55CG5aW955qE6Lev5b6E6ZuG5ZCIIFsv77yMIC9hYm91dCwgL2Fib3V0L2EsIC9hYm91dC9iXQogKiBAcGFyYW0geyp9IG9sZFBhdGhNYXAgeycvJzogJ0hvbWUnLCAvYWJvdXQ6IEFib3V0LCAnL2Fib3V0L2EnOiAnYScsICcvYWJvdXQvYic6ICdiJ30KICovCmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSb3V0ZU1hcChyb3V0ZXMsIG9sZFBhdGhMaXN0LCBvbGRQYXRoTWFwKSB7CiAgdmFyIHBhdGhMaXN0ID0gb2xkUGF0aExpc3QgfHwgW107CiAgdmFyIHBhdGhNYXAgPSBvbGRQYXRoTWFwIHx8IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgcm91dGVzLmZvckVhY2goZnVuY3Rpb24gKHJvdXRlKSB7CiAgICAvLyDmoLnmja7nlKjmiLfnmoTot6/nlLHvvIzlrp7njrDmoLzlvI/ljJbot6/lvoQKICAgIGFkZFJvdXRlUmVjb3JkKHBhdGhMaXN0LCBwYXRoTWFwLCByb3V0ZSk7CiAgfSk7CiAgcmV0dXJuIHsKICAgIHBhdGhMaXN0OiBwYXRoTGlzdCwKICAgIHBhdGhNYXA6IHBhdGhNYXAKICB9Owp9CgpmdW5jdGlvbiBhZGRSb3V0ZVJlY29yZChwYXRoTGlzdCwgcGF0aE1hcCwgcm91dGUsIHBhcmVudCkgewogIHZhciBwYXRoID0gcm91dGUucGF0aCwKICAgICAgY29tcG9uZW50ID0gcm91dGUuY29tcG9uZW50OwogIHBhdGggPSBwYXJlbnQgPyAiIi5jb25jYXQocGFyZW50LnBhdGgsICIvIikuY29uY2F0KHBhdGgpIDogcGF0aDsKICB2YXIgcmVjb3JkID0gewogICAgcGF0aDogcGF0aCwKICAgIGNvbXBvbmVudDogY29tcG9uZW50LAogICAgcGFyZW50OiBwYXJlbnQKICB9OwoKICBpZiAoIXBhdGhNYXBbcGF0aF0pIHsKICAgIHBhdGhMaXN0LnB1c2gocGF0aCk7CiAgICBwYXRoTWFwW3BhdGhdID0gcmVjb3JkOwogIH0KCiAgaWYgKHJvdXRlLmNoaWxkcmVuKSB7CiAgICByb3V0ZS5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChyb3V0ZSkgewogICAgICByZXR1cm4gYWRkUm91dGVSZWNvcmQocGF0aExpc3QsIHBhdGhNYXAsIHJvdXRlLCByZWNvcmQpOwogICAgfSk7CiAgfQp9"},{"version":3,"sources":["/Users/olifer/Documents/goooooooo/vue-router/src/vue-router/create-route-map.js"],"names":["createRouteMap","routes","oldPathList","oldPathMap","pathList","pathMap","Object","create","forEach","route","addRouteRecord","parent","path","component","record","push","children"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASA,cAAT,CAAwBC,MAAxB,EAAgCC,WAAhC,EAA6CC,UAA7C,EAAyD;AAC9D,MAAMC,QAAQ,GAAGF,WAAW,IAAI,EAAhC;AACA,MAAMG,OAAO,GAAGF,UAAU,IAAIG,MAAM,CAACC,MAAP,CAAc,IAAd,CAA9B;AAEAN,EAAAA,MAAM,CAACO,OAAP,CAAe,UAACC,KAAD,EAAW;AACxB;AACAC,IAAAA,cAAc,CAACN,QAAD,EAAWC,OAAX,EAAoBI,KAApB,CAAd;AACD,GAHD;AAKA,SAAO;AACLL,IAAAA,QAAQ,EAARA,QADK;AAELC,IAAAA,OAAO,EAAPA;AAFK,GAAP;AAID;;AAED,SAASK,cAAT,CAAwBN,QAAxB,EAAkCC,OAAlC,EAA2CI,KAA3C,EAAkDE,MAAlD,EAA0D;AAAA,MAClDC,IADkD,GAC9BH,KAD8B,CAClDG,IADkD;AAAA,MAC5CC,SAD4C,GAC9BJ,KAD8B,CAC5CI,SAD4C;AAExDD,EAAAA,IAAI,GAAGD,MAAM,aAAMA,MAAM,CAACC,IAAb,cAAqBA,IAArB,IAA8BA,IAA3C;AACA,MAAIE,MAAM,GAAG;AACXF,IAAAA,IAAI,EAAJA,IADW;AAEXC,IAAAA,SAAS,EAATA,SAFW;AAGXF,IAAAA,MAAM,EAANA;AAHW,GAAb;;AAMA,MAAI,CAACN,OAAO,CAACO,IAAD,CAAZ,EAAoB;AAClBR,IAAAA,QAAQ,CAACW,IAAT,CAAcH,IAAd;AACAP,IAAAA,OAAO,CAACO,IAAD,CAAP,GAAgBE,MAAhB;AACD;;AAED,MAAIL,KAAK,CAACO,QAAV,EAAoB;AAClBP,IAAAA,KAAK,CAACO,QAAN,CAAeR,OAAf,CAAuB,UAACC,KAAD;AAAA,aACrBC,cAAc,CAACN,QAAD,EAAWC,OAAX,EAAoBI,KAApB,EAA2BK,MAA3B,CADO;AAAA,KAAvB;AAGD;AACF","sourcesContent":["/**\n * routes 格式化\n * @param {*} routes\n * @param {*} oldPathList 处理好的路径集合 [/， /about, /about/a, /about/b]\n * @param {*} oldPathMap {'/': 'Home', /about: About, '/about/a': 'a', '/about/b': 'b'}\n */\nexport function createRouteMap(routes, oldPathList, oldPathMap) {\n  const pathList = oldPathList || [];\n  const pathMap = oldPathMap || Object.create(null);\n\n  routes.forEach((route) => {\n    // 根据用户的路由，实现格式化路径\n    addRouteRecord(pathList, pathMap, route);\n  });\n\n  return {\n    pathList,\n    pathMap,\n  };\n}\n\nfunction addRouteRecord(pathList, pathMap, route, parent) {\n  let { path, component } = route;\n  path = parent ? `${parent.path}/${path}` : path;\n  let record = {\n    path,\n    component,\n    parent,\n  };\n\n  if (!pathMap[path]) {\n    pathList.push(path);\n    pathMap[path] = record;\n  }\n\n  if (route.children) {\n    route.children.forEach((route) =>\n      addRouteRecord(pathList, pathMap, route, record)\n    );\n  }\n}\n"]}]}